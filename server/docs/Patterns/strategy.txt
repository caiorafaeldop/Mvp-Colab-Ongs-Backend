RESUMO ATUAL (2025-09-29) â€¢ Nota: 4/10
Como estÃ¡ sendo usado:
- `src/main/factories/PrismaRepositoryFactory.js` alterna entre Prisma/Mongo por estratÃ©gia (habilitÃ¡vel via `switchDatabaseStrategy`), mas no boot atual usa `MongoRepositoryFactory`.
- `BridgeFactory.getStorageBridge(preference)` e `AdapterFactory.create*` selecionam implementaÃ§Ã£o (similar a Strategy, embora aplicado via Factory/Bridge).
Melhorias sugeridas:
- Ativar/usar estratÃ©gia de repositÃ³rio no startup quando Prisma estiver pronto.
- Extrair estratÃ©gias explÃ­citas para matching/pagamentos com contratos dedicados.
EvidÃªncias no cÃ³digo:
- `PrismaRepositoryFactory._shouldUsePrisma()`, `switchDatabaseStrategy()`; `BridgeFactory.getStorageBridge()`.

PADRÃƒO STRATEGY (Comportamental) - IMPLEMENTADO âœ…

CONTEXTO NO PROJETO:
O projeto implementa o padrÃ£o Strategy para algoritmos de matching entre ONGs e processamento de pagamentos.
Permite escolher dinamicamente diferentes estratÃ©gias baseadas no contexto e necessidades.

IMPLEMENTAÃ‡Ã•ES REALIZADAS:

1. **MATCHING STRATEGIES** âœ…
   - LocationMatchingStrategy: Matching por proximidade geogrÃ¡fica
   - CauseMatchingStrategy: Matching por causas similares/complementares  
   - ResourceMatchingStrategy: Matching por recursos disponÃ­veis/necessÃ¡rios

2. **PAYMENT STRATEGIES** âœ…
   - WhatsAppPaymentStrategy: Pagamento via WhatsApp com links automÃ¡ticos
   - Suporte para mÃºltiplos mÃ©todos de pagamento

3. **RECOMMENDATION STRATEGIES** âœ…
   - CategoryRecommendationStrategy: RecomendaÃ§Ãµes baseadas em categorias
   - Algoritmos de sugestÃ£o de produtos

4. **STRATEGY FACTORY** âœ…
   - CriaÃ§Ã£o centralizada de estratÃ©gias
   - ConfiguraÃ§Ã£o via environment variables
   - SeleÃ§Ã£o dinÃ¢mica baseada em contexto

ESTRUTURA IMPLEMENTADA:
```
src/domain/contracts/
  â”œâ”€â”€ MatchingStrategy.js
  â”œâ”€â”€ PaymentStrategy.js
  â””â”€â”€ RecommendationStrategy.js

src/infra/strategies/
  â”œâ”€â”€ LocationMatchingStrategy.js
  â”œâ”€â”€ CauseMatchingStrategy.js
  â”œâ”€â”€ ResourceMatchingStrategy.js
  â”œâ”€â”€ WhatsAppPaymentStrategy.js
  â””â”€â”€ CategoryRecommendationStrategy.js

src/main/factories/
  â””â”€â”€ StrategyFactory.js
```

ALGORITMOS DE MATCHING IMPLEMENTADOS:

ğŸ“ **LocationMatchingStrategy:**
- CÃ¡lculo de distÃ¢ncia com fÃ³rmula de Haversine
- Bonus para mesmo estado (30%) e mesma cidade (50%)
- Considera proximidade atÃ© 100km
- Score baseado em proximidade geogrÃ¡fica

ğŸ¯ **CauseMatchingStrategy:**
- Matches exatos entre causas (80% bonus)
- Causas relacionadas mapeadas (50% bonus)
- Causas complementares (60% bonus)
- AnÃ¡lise de pÃºblico-alvo similar

ğŸ’¼ **ResourceMatchingStrategy:**
- Matching direto: necessidades vs disponibilidades
- Matching reverso: ofertas vs necessidades
- Complementaridade mÃºtua (bonus 30%)
- AnÃ¡lise de capacidade organizacional

BENEFÃCIOS ALCANÃ‡ADOS:
- âœ… Algoritmos intercambiÃ¡veis sem afetar cÃ³digo cliente
- âœ… FÃ¡cil adiÃ§Ã£o de novas estratÃ©gias de matching
- âœ… ConfiguraÃ§Ã£o dinÃ¢mica via environment variables
- âœ… OtimizaÃ§Ã£o especÃ­fica por tipo de tarefa
- âœ… Estimativa de custos e performance
- âœ… ValidaÃ§Ã£o de dados por estratÃ©gia

USO PRÃTICO:
```javascript
// CriaÃ§Ã£o dinÃ¢mica de estratÃ©gias
const causeStrategy = StrategyFactory.createMatchingStrategy('cause');
const paymentStrategy = StrategyFactory.createPaymentStrategy('whatsapp');
const recommendationStrategy = StrategyFactory.createRecommendationStrategy('category');

// Uso das estratÃ©gias
const matches = await causeStrategy.findMatches(ong, candidates);
const paymentLink = await paymentStrategy.processPayment(paymentDetails);
const recommendations = await recommendationStrategy.getRecommendations(user);
```
